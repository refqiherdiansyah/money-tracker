/* =====================================================
   FINTECH DESIGN SYSTEM
   Framework-agnostic SCSS Design Tokens & Components
===================================================== */

/* =====================================================
   DESIGN TOKENS — COLOR PALETTE
===================================================== */


// Blue-based brand colors
$brand-primary: #0066ff;
$brand-primary-dark: #0052cc;
$brand-primary-light: #3385ff;
$brand-secondary: #00d4ff;
$brand-cyan: #7dd3fc;

// Status colors
$color-success: #10b981;
$color-success-light: #34d399;
$color-danger: #ef4444;
$color-danger-light: #f87171;
$color-warning: #f59e0b;
$color-info: #3b82f6;

// Neutral grays (light mode)
$gray-50: #f9fafb;
$gray-100: #f3f4f6;
$gray-200: #e5e7eb;
$gray-300: #d1d5db;
$gray-400: #9ca3af;
$gray-500: #6b7280;
$gray-600: #4b5563;
$gray-700: #374151;
$gray-800: #1f2937;
$gray-900: #111827;

// Dark mode grays (inverted)
$gray-dark-50: #0f1419;
$gray-dark-100: #1a1f2e;
$gray-dark-200: #252d3d;
$gray-dark-300: #374151;
$gray-dark-400: #4b5563;
$gray-dark-500: #6b7280;
$gray-dark-600: #9ca3af;
$gray-dark-700: #d1d5db;
$gray-dark-800: #e5e7eb;
$gray-dark-900: #f9fafb;

/* =====================================================
   DESIGN TOKENS — SPACING
===================================================== */

// 4pt grid system
$spacing: (
  0: 0,
  1: 0.25rem,    // 4px
  2: 0.5rem,     // 8px
  3: 0.75rem,    // 12px
  4: 1rem,       // 16px
  5: 1.25rem,    // 20px
  6: 1.5rem,     // 24px
  8: 2rem,       // 32px
  10: 2.5rem,    // 40px
  12: 3rem,      // 48px
  16: 4rem,      // 64px
  20: 5rem,      // 80px
  24: 6rem,      // 96px
);

/* =====================================================
   DESIGN TOKENS — RADIUS
===================================================== */

$radius: (
  none: 0,
  xs: 0.375rem,   // 6px
  sm: 0.5rem,     // 8px
  md: 0.75rem,    // 12px
  lg: 1rem,       // 16px
  xl: 1.25rem,    // 20px
  2xl: 1.5rem,    // 24px
  3xl: 2rem,      // 32px
  full: 9999px,
);

/* =====================================================
   DESIGN TOKENS — SHADOWS
===================================================== */

$shadows: (
  sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05),
  base: 0 1px 3px 0 rgba(0, 0, 0, 0.1),
  md: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
  lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1),
  xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1),
  2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25),
  inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06),
);

$shadows-dark: (
  sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3),
  base: 0 1px 3px 0 rgba(0, 0, 0, 0.4),
  md: 0 4px 6px -1px rgba(0, 0, 0, 0.5),
  lg: 0 10px 15px -3px rgba(0, 0, 0, 0.6),
  xl: 0 20px 25px -5px rgba(0, 0, 0, 0.7),
  2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.8),
  inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.3),
);

/* =====================================================
   DESIGN TOKENS — MOTION
===================================================== */

$easing: (
  linear: linear,
  ease-in: cubic-bezier(0.4, 0, 1, 1),
  ease-out: cubic-bezier(0, 0, 0.2, 1),
  ease-in-out: cubic-bezier(0.4, 0, 0.2, 1),
  soft: cubic-bezier(0.22, 1, 0.36, 1),
  smooth: cubic-bezier(0.16, 1, 0.3, 1),
  sharp: cubic-bezier(0.4, 0, 0.2, 1),
);

$duration: (
  fast: 150ms,
  base: 250ms,
  slow: 400ms,
  slower: 600ms,
);

/* =====================================================
   DESIGN TOKENS — TYPOGRAPHY
===================================================== */

$font-size: (
  xs: 0.75rem,      // 12px
  sm: 0.875rem,     // 14px
  base: 1rem,       // 16px
  lg: 1.125rem,     // 18px
  xl: 1.25rem,      // 20px
  2xl: 1.5rem,      // 24px
  3xl: 1.875rem,    // 30px
  4xl: 2.25rem,     // 36px
  5xl: 3rem,        // 48px
  6xl: 3.75rem,     // 60px
);

$font-weight: (
  normal: 400,
  medium: 500,
  semibold: 600,
  bold: 700,
  extrabold: 800,
);

$line-height: (
  tight: 1.25,
  snug: 1.375,
  normal: 1.5,
  relaxed: 1.625,
  loose: 2,
);

/* =====================================================
   MIXINS — GLASSMORPHISM
===================================================== */

@mixin glass($opacity: 0.7, $blur: 16px, $saturation: 120%) {
  backdrop-filter: blur($blur) saturate($saturation);
  -webkit-backdrop-filter: blur($blur) saturate($saturation);
  background: rgba(255, 255, 255, $opacity);
  border: 1px solid rgba(0, 0, 0, 0.06);
}

@mixin glass-dark($opacity: 0.6, $blur: 16px, $saturation: 120%) {
  backdrop-filter: blur($blur) saturate($saturation);
  -webkit-backdrop-filter: blur($blur) saturate($saturation);
  background: rgba(15, 20, 25, $opacity);
  border: 1px solid rgba(255, 255, 255, 0.08);
}

/* =====================================================
   MIXINS — ANIMATIONS
===================================================== */

@mixin transition($properties...) {
  transition-property: $properties;
  transition-duration: map-get($duration, base);
  transition-timing-function: map-get($easing, smooth);
}

@mixin hover-lift($distance: -4px) {
  transition: transform map-get($duration, base) map-get($easing, smooth);
  
  &:hover {
    transform: translateY($distance);
  }
}

/* =====================================================
   KEYFRAME ANIMATIONS
===================================================== */

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeInDown {
  from {
    opacity: 0;
    transform: translateY(-12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(-16px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(16px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes scaleOut {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.95);
  }
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

/* =====================================================
   ANIMATION UTILITIES
===================================================== */

.fade-in {
  animation: fadeIn map-get($duration, base) map-get($easing, smooth) both;
}

.fade-in-down {
  animation: fadeInDown map-get($duration, base) map-get($easing, smooth) both;
}

.fade-in-up {
  animation: fadeInUp map-get($duration, base) map-get($easing, smooth) both;
}

.slide-in-right {
  animation: slideInRight map-get($duration, base) map-get($easing, smooth) both;
}

.slide-in-left {
  animation: slideInLeft map-get($duration, base) map-get($easing, smooth) both;
}

.scale-in {
  animation: scaleIn map-get($duration, fast) map-get($easing, smooth) both;
}

.scale-out {
  animation: scaleOut map-get($duration, fast) map-get($easing, smooth) both;
}

.pulse {
  animation: pulse 2s map-get($easing, ease-in-out) infinite;
}

// Stagger animation delays
@for $i from 1 through 10 {
  .delay-#{$i} {
    animation-delay: #{$i * 50}ms;
  }
}

/* =====================================================
   GLASSMORPHISM SYSTEM
===================================================== */

.glass {
  @include glass(0.65, 16px, 120%);
}

.glass-soft {
  @include glass(0.5, 12px, 110%);
}

.glass-strong {
  @include glass(0.8, 24px, 130%);
}

// Dark mode variants
[data-theme="dark"] {
  .glass {
    @include glass-dark(0.6, 16px, 120%);
  }

  .glass-soft {
    @include glass-dark(0.4, 12px, 110%);
  }

  .glass-strong {
    @include glass-dark(0.75, 24px, 130%);
  }
}

/* =====================================================
   CARD SYSTEM
===================================================== */

.card {
  background: $gray-50;
  border-radius: map-get($radius, lg);
  border: 1px solid $gray-200;
  padding: map-get($spacing, 6);
  @include transition(transform, box-shadow);
}

.card-sm {
  padding: map-get($spacing, 4);
  border-radius: map-get($radius, md);
}

.card-lg {
  padding: map-get($spacing, 8);
  border-radius: map-get($radius, xl);
}

.card-elevated {
  box-shadow: map-get($shadows, lg);
  border: none;
}

.card-interactive {
  cursor: pointer;
  
  &:hover {
    transform: translateY(-2px);
    box-shadow: map-get($shadows, xl);
  }

  &:active {
    transform: translateY(0);
  }
}

.card-glass {
  @extend .glass;
  border: 1px solid rgba(0, 0, 0, 0.06);
}

// Dark mode cards
[data-theme="dark"] {
  .card {
    background: $gray-dark-200;
    border-color: $gray-dark-300;
  }

  .card-elevated {
    box-shadow: map-get($shadows-dark, lg);
  }

  .card-interactive:hover {
    box-shadow: map-get($shadows-dark, xl);
  }
}

/* =====================================================
   BUTTON SYSTEM
===================================================== */

.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: map-get($spacing, 2);
  padding: map-get($spacing, 3) map-get($spacing, 5);
  border-radius: map-get($radius, md);
  font-size: map-get($font-size, sm);
  font-weight: map-get($font-weight, medium);
  line-height: 1;
  border: none;
  cursor: pointer;
  user-select: none;
  @include transition(background, transform, box-shadow);

  &:hover {
    transform: translateY(-1px);
  }

  &:active {
    transform: translateY(0);
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
  }
}

.btn-sm {
  padding: map-get($spacing, 2) map-get($spacing, 4);
  font-size: map-get($font-size, xs);
}

.btn-lg {
  padding: map-get($spacing, 4) map-get($spacing, 6);
  font-size: map-get($font-size, base);
}

// Primary button (blue)
.btn-primary {
  background: $brand-primary;
  color: white;

  &:hover {
    background: $brand-primary-dark;
    box-shadow: 0 4px 12px rgba($brand-primary, 0.3);
  }
}

// Secondary button (cyan/light blue)
.btn-secondary {
  background: $brand-secondary;
  color: $gray-900;

  &:hover {
    background: darken($brand-secondary, 10%);
    box-shadow: 0 4px 12px rgba($brand-secondary, 0.3);
  }
}

// Danger button (red)
.btn-danger {
  background: $color-danger;
  color: white;

  &:hover {
    background: darken($color-danger, 8%);
    box-shadow: 0 4px 12px rgba($color-danger, 0.3);
  }
}

// Outline variants
.btn-outline {
  background: transparent;
  border: 2px solid $gray-300;
  color: $gray-900;

  &:hover {
    background: $gray-100;
    border-color: $gray-400;
  }
}

.btn-outline-primary {
  background: transparent;
  border: 2px solid $brand-primary;
  color: $brand-primary;

  &:hover {
    background: rgba($brand-primary, 0.1);
  }
}

// Ghost variant
.btn-ghost {
  background: transparent;
  color: $gray-700;

  &:hover {
    background: $gray-100;
  }
}

// Dark mode buttons
[data-theme="dark"] {
  .btn-outline {
    border-color: $gray-dark-400;
    color: $gray-dark-900;

    &:hover {
      background: $gray-dark-300;
      border-color: $gray-dark-500;
    }
  }

  .btn-ghost {
    color: $gray-dark-700;

    &:hover {
      background: $gray-dark-300;
    }
  }
}

/* =====================================================
   TRANSACTION ROW SYSTEM
===================================================== */

.transaction-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: map-get($spacing, 4);
  border-radius: map-get($radius, md);
  background: $gray-50;
  border: 1px solid $gray-200;
  @include transition(background, transform);

  &:hover {
    background: $gray-100;
    transform: translateX(2px);
  }
}

.transaction-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: map-get($radius, md);
  flex-shrink: 0;
}

.transaction-details {
  flex: 1;
  margin: 0 map-get($spacing, 4);
}

.transaction-title {
  font-size: map-get($font-size, sm);
  font-weight: map-get($font-weight, medium);
  color: $gray-900;
  margin-bottom: map-get($spacing, 1);
}

.transaction-meta {
  font-size: map-get($font-size, xs);
  color: $gray-500;
}

.transaction-amount {
  font-size: map-get($font-size, lg);
  font-weight: map-get($font-weight, semibold);
  font-variant-numeric: tabular-nums;
}

// Income variant (blue/green)
.transaction-income {
  .transaction-icon {
    background: rgba($color-success, 0.1);
    color: $color-success;
  }

  .transaction-amount {
    color: $color-success;
  }
}

// Expense variant (red)
.transaction-expense {
  .transaction-icon {
    background: rgba($color-danger, 0.1);
    color: $color-danger;
  }

  .transaction-amount {
    color: $color-danger;
  }
}

// Pending variant (gray)
.transaction-pending {
  opacity: 0.6;

  .transaction-icon {
    background: rgba($gray-400, 0.1);
    color: $gray-400;
  }

  .transaction-amount {
    color: $gray-500;
  }
}

// Dark mode transactions
[data-theme="dark"] {
  .transaction-row {
    background: $gray-dark-200;
    border-color: $gray-dark-300;

    &:hover {
      background: $gray-dark-300;
    }
  }

  .transaction-title {
    color: $gray-dark-900;
  }

  .transaction-meta {
    color: $gray-dark-600;
  }
}

/* =====================================================
   TYPOGRAPHY UTILITIES
===================================================== */

.text-display {
  font-size: map-get($font-size, 4xl);
  font-weight: map-get($font-weight, bold);
  line-height: map-get($line-height, tight);
  letter-spacing: -0.02em;
}

.text-title {
  font-size: map-get($font-size, 2xl);
  font-weight: map-get($font-weight, semibold);
  line-height: map-get($line-height, snug);
}

.text-heading {
  font-size: map-get($font-size, xl);
  font-weight: map-get($font-weight, semibold);
  line-height: map-get($line-height, snug);
}

.text-body {
  font-size: map-get($font-size, base);
  line-height: map-get($line-height, relaxed);
}

.text-small {
  font-size: map-get($font-size, sm);
  line-height: map-get($line-height, normal);
}

.text-meta {
  font-size: map-get($font-size, xs);
  color: $gray-500;
  line-height: map-get($line-height, normal);
}

.text-balance {
  font-size: map-get($font-size, 3xl);
  font-weight: map-get($font-weight, bold);
  font-variant-numeric: tabular-nums;
  letter-spacing: -0.01em;
}

// Dark mode typography
[data-theme="dark"] {
  .text-meta {
    color: $gray-dark-600;
  }
}

/* =====================================================
   UTILITY CLASSES
===================================================== */

// Spacing utilities
@each $key, $value in $spacing {
  .p-#{$key} { padding: $value; }
  .pt-#{$key} { padding-top: $value; }
  .pr-#{$key} { padding-right: $value; }
  .pb-#{$key} { padding-bottom: $value; }
  .pl-#{$key} { padding-left: $value; }
  .px-#{$key} { padding-left: $value; padding-right: $value; }
  .py-#{$key} { padding-top: $value; padding-bottom: $value; }
  
  .m-#{$key} { margin: $value; }
  .mt-#{$key} { margin-top: $value; }
  .mr-#{$key} { margin-right: $value; }
  .mb-#{$key} { margin-bottom: $value; }
  .ml-#{$key} { margin-left: $value; }
  .mx-#{$key} { margin-left: $value; margin-right: $value; }
  .my-#{$key} { margin-top: $value; margin-bottom: $value; }
  
  .gap-#{$key} { gap: $value; }
}

// Border radius utilities
@each $key, $value in $radius {
  .rounded-#{$key} { border-radius: $value; }
}

// Shadow utilities
@each $key, $value in $shadows {
  .shadow-#{$key} { box-shadow: $value; }
}

/* =====================================================
   END OF DESIGN SYSTEM
===================================================== */
